!function($){var dependentSelect=function(element,options){this.options=options,this.init()};dependentSelect.prototype.init=function(){var self=this;$(self.options.selector).on("change",(function(event){self.loadModels(event,self.options)}))},dependentSelect.prototype.loadModels=function(event,options){var url=options.url,data={id:$(options.selector).val()};$.ajax({type:"POST",url:url,cache:!1,async:!1,data:data,error:function(xhr,status,error){alert(error)},success:function(response){$(options.target).find("option").remove().end(),$(options.target).append($("<option></option>").attr("value","").text("-- seleccionar --")),$.each(response.models,(function(key,value){$(options.target).append($("<option></option>").attr("value",value.id).text(value.description))})),$(options.target).removeAttr("disabled")}})},$.fn.dependentSelect=function(options){return new dependentSelect(this,$.extend({},$.fn.dependentSelect.defaults,options))},$.fn.dependentSelect.defaults={url:"localhost",selector:"#selector",target:"#target"}}(jQuery);